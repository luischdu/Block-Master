(this["webpackJsonpsprint-3"]=this["webpackJsonpsprint-3"]||[]).push([[0],{204:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(43),o=a.n(r),i=a(10),s=a.n(i),l=a(15),u=a(9),d=a(14),b=a(12),j=a(34);a(206),a(90);j.a.initializeApp({apiKey:"AIzaSyACjijb0Z5_FSE8gEPKWmcP-cyUzWD-iHw",authDomain:"blockmaster-a539b.firebaseapp.com",projectId:"blockmaster-a539b",storageBucket:"blockmaster-a539b.appspot.com",messagingSenderId:"767056045257",appId:"1:767056045257:web:3731a3a2f29a25a9671918",measurementId:"G-JZGFS9PBG4"});var m,p,h,f,v,O,g,x=j.a.firestore(),w=new j.a.auth.GoogleAuthProvider,y=new j.a.auth.FacebookAuthProvider,N={login:"[Auth] Login",logout:"[Auth] Logout",uiSetError:"[UI] Set Error",uiRemoveError:"[UI] Remove Error",uiStartLoading:"[UI] Start loading",uiFinishLoading:"[UI] Finish loading",movieAdd:"[MOVIE] New movie",movieLater:"[MOVIE] Watch later movie",movieActive:"[MOVIE] Active movie",movieLoad:"[MOVIE] Load movie",movieUpdate:"[MOVIE] Update movie",movieDelete:"[MOVIE] Delete movie",movieFile:"[MOVIE] File movie",movieLogoutCleaning:"[MOVIE] Cleaning movie",movieKeep:"[MOVIE] See later",movieTop:"[MOVIE] Top movie",movieSearch:"[MOVIE] Search movie",movieTrailer:"[MOVIE] Trailer",moviePopular:"[MOVIE] Popular",movieNotPopular:"[MOVIE] Not popular",movieValueSearch:"[MOVIE] Value search"},E=function(e){return{type:N.uiSetError,payload:e}},I=a(33),k=a.n(I),S=function(e,t,a,n){return{type:N.login,payload:{uid:e,displayName:t,email:a,photoURL:n}}},C=function(e,t){return function(a){return a({type:N.uiStarLogin}),j.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a(S(t.uid,t.displayName,t.email,t.photoURL)),a({type:N.uiFinishLogin})})).catch((function(e){k.a.fire({position:"center",icon:"error",title:"".concat(e.message),showConfirmButton:!1,timer:1500}),a({type:N.uiStopLogin})}))}},L=function(){return function(e){j.a.auth().signInWithPopup(w).then((function(t){var a=t.user;e(S(a.uid,a.displayName,a.email,a.photoURL))})).catch((function(e){k.a.fire({position:"center",icon:"error",title:"".concat(e.message),showConfirmButton:!1,timer:1500})}))}},_=function(){return function(e){j.a.auth().signOut(),e({type:N.logout})}},P=a(8),R=a(24),V=a(23),M=a.n(V),A=a(26),F=a(28),U=a(45),D=a(27),T=a(1),q=D.a.button(m||(m=Object(A.a)(["\n  position: relative;\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n"]))),B=D.a.div(p||(p=Object(A.a)(["\n  position: absolute;\n  left: 0;\n  top: 3%;\n"]))),G=D.a.div(h||(h=Object(A.a)(["\n  position: absolute;\n  top: 28%;\n  left: 45%;\n  color: #fff;\n"]))),W=D.a.div(f||(f=Object(A.a)(["\n  position: absolute;\n  top: 22%;\n  left: 15%;\n  font-size: 21px;\n  color: #fed941;\n"]))),z=function(e){var t=e.handleClic,a=e.targetId,n=e.isLoading,c=e.setElement,r=e.list,o=e.keyVid,i=e.handleClicLater;return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{backgroundColor:"#13131396"},children:Object(T.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:Object(T.jsxs)("div",{className:"modal-content bg-transparent border-0",children:[Object(T.jsxs)("div",{className:"modal-header border-bottom-0",children:[Object(T.jsx)("h5",{className:"modal-title text-warning ",id:"exampleModalLabel",children:a.title}),Object(T.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(T.jsx)("div",{className:"modal-body",children:Object(T.jsxs)("div",{className:"row g-2",children:[Object(T.jsx)("div",{className:"col-md-3 text-white text-center",children:""!=a&&Object(T.jsx)("img",{src:"https://image.tmdb.org/t/p/w185".concat(a.poster_path)})}),Object(T.jsxs)("div",{className:"col-md-9 text-white",children:["Datos Pelicula",""!=a&&a.overview,Object(T.jsx)("br",{}),""!=a&&a.release_date]})]})}),Object(T.jsxs)("div",{className:"modal-footer border-top-0",children:[Object(T.jsx)("button",{className:"btn btn-lg btn-warning","data-bs-toggle":"modal","data-bs-target":"#videoModal",children:"VER AHORA"}),Object(T.jsx)("button",{onClick:i,className:"btn btn-lg btn-outline-warning bg-dark",children:"VER DESPUES"})]})]})})}),Object(T.jsx)("div",{class:"modal fade",id:"videoModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(T.jsx)("div",{class:"modal-dialog",style:{backgroundColor:"#13131316"},children:Object(T.jsxs)("div",{class:"modal-content",children:[Object(T.jsx)("div",{class:"modal-header"}),Object(T.jsxs)("div",{class:"modal-body",children:[Object(T.jsxs)("h5",{children:["Trailer de ",a.title]}),null===o||0===o.results.length?Object(T.jsx)("h2",{children:"Trailer no disponible, lo sentimos!"}):Object(T.jsx)("iframe",{width:"420",height:"315",src:"https://www.youtube.com/embed/".concat(o.results[0].key)})]})]})})}),Object(T.jsx)("div",{className:"d-flex flex-wrap justify-content-around mt-5 mb-5",children:n?Object(T.jsx)("div",{className:"row",children:Object(T.jsx)("div",{className:"col-12 text-center",children:Object(T.jsx)("div",{class:"spinner-border text-warning",role:"status"})})}):r.map((function(e){return Object(T.jsx)("div",{className:"p-3",children:Object(T.jsxs)(q,{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[Object(T.jsx)("img",{id:e.id,onClick:t,src:"https://image.tmdb.org/t/p/w185".concat(e.poster_path)}),Object(T.jsxs)(B,{children:[Object(T.jsx)("img",{src:"https://i.imgur.com/GHZrOvx.png"}),Object(T.jsx)(W,{children:Object(T.jsx)(F.a,{icon:U.a})}),Object(T.jsx)(G,{children:Object(T.jsx)("h1",{className:"fs-4",children:e.vote_average})})]})]})},e.id)}))}),Object(T.jsx)("div",{className:"row",children:Object(T.jsx)("div",{className:"col-12 text-center",children:Object(T.jsx)("div",{ref:c,class:"spinner-border text-warning",role:"status"})})})]})},H=function(e){return function(t){t({type:N.movieLoad,payload:{movielist:e}})}},Z=function(e){return function(t){t({type:N.moviePopular,payload:{moviePopular:e}})}},J=function(e){return function(t){t({type:N.movieNotPopular,payload:{movieNotPopular:e}})}},K=function(e,t){return function(){var a=Object(l.a)(s.a.mark((function a(n,c){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n({type:N.movieLater,payload:{later:e}});case 2:r=c().movie.later[0],x.collection("users/".concat(t.split(" ").join(""),"/watchLater")).add(r);case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},X=function(e){return function(t){t({type:N.movieTrailer,payload:e})}},Y=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(u.a)(r,2),i=o[0],d=o[1],b=Object(n.useState)(null),j=Object(u.a)(b,2),m=j[0],p=j[1],h=Object(P.c)((function(e){return e.movie.hmovie})),f=Object(n.useRef)(new IntersectionObserver((function(e){e[0].isIntersecting&&O.current()}),{threshold:1})),v=function(){d(i+1)},O=Object(n.useRef)(v);Object(n.useEffect)((function(){O.current=v}),[v]),Object(n.useEffect)((function(){var e=m,t=f.current;return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[m]),Object(n.useEffect)((function(){M.a.get("https://api.themoviedb.org/3/movie/popular?api_key=ed4ef444cf09035de37c391527885e55&language=es&page=".concat(i)).then(function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,g(H([].concat(Object(R.a)(h),Object(R.a)(a.results))));case 3:console.log(a),c(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}),[i]);var g=Object(P.b)(),x=Object(n.useState)(""),w=Object(u.a)(x,2),y=w[0],N=w[1],E=Object(P.c)((function(e){return e.trailer.trailer}));console.log(E);var I=Object(P.c)((function(e){return e.auth.name}));return Object(T.jsx)("div",{children:a?Object(T.jsx)("div",{className:"row",children:Object(T.jsx)("div",{className:"col-12 text-center",children:Object(T.jsx)("div",{class:"spinner-border text-warning",role:"status"})})}):Object(T.jsx)(z,{list:h,targetId:y,isLoading:a,handleClic:function(e){console.log(e.target.id);var t=h.find((function(t){return t.id==e.target.id}));N(t),M.a.get("https://api.themoviedb.org/3/movie/".concat(e.target.id,"/videos?api_key=ed4ef444cf09035de37c391527885e55&language=en")).then(function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,g(X(a));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},keyVid:E,setElement:p,handleClicLater:function(){var e=[{id:y.id,url:"https://image.tmdb.org/t/p/w185".concat(y.poster_path),title:y.title,raiting:y.vote_average,trailer:"https://api.themoviedb.org/3/movie/".concat(y,"/videos?api_key=ed4ef444cf09035de37c391527885e55&language=en")}];g(K(e,I))}})})},Q=a(37),$=D.a.main(v||(v=Object(A.a)(["\n  max-width: 500px;\n  margin: 0 auto;\n"]))),ee=function(e){var t=e.email,a=e.password,n=e.handleInputChange,c=e.handleLogin,r=e.handleGoogle,o=e.handleFacebook,i=e.loading;return Object(T.jsx)($,{className:"form-signin d-flex justify-content-center",children:Object(T.jsxs)("form",{className:"text-center p-4",onSubmit:c,children:[Object(T.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Log in"}),Object(T.jsxs)("div",{className:"form-floating mb-2",children:[Object(T.jsx)("input",{type:"email",className:"form-control",id:"floatingInput",placeholder:"name@example.com",name:"email",value:t,onChange:n}),Object(T.jsx)("label",{htmlFor:"floatingInput",children:"Correo electronico"})]}),Object(T.jsxs)("div",{className:"form-floating",children:[Object(T.jsx)("input",{type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password",name:"password",value:a,onChange:n}),Object(T.jsx)("label",{htmlFor:"floatingPassword",children:"Contrase\xf1a"})]}),Object(T.jsx)("button",{className:"w-100 btn btn-lg btn-warning mt-2",type:"submit",disabled:i,children:"Iniciar sesi\xf3n"}),Object(T.jsxs)("div",{className:"w-100 btn btn-lg  btn-outline-warning mt-3",onClick:r,disabled:i,children:[Object(T.jsx)(F.a,{icon:Q.b})," Iniciar sesi\xf3n con google"]}),Object(T.jsxs)("div",{className:"w-100 btn btn-lg  btn-outline-info mt-3",onClick:o,disabled:i,children:[Object(T.jsx)(F.a,{icon:Q.a})," Iniciar sesi\xf3n con Facebook"]}),Object(T.jsx)("div",{className:"checkbox  mt-3 mb-3",children:Object(T.jsx)(d.b,{to:"/register",children:"No tengo cuenta"})})]})})},te=a(38),ae=a(7),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(u.a)(t,2),c=a[0],r=a[1],o=function(){r(e)},i=function(e){var t,a=e.target;r(Object(ae.a)(Object(ae.a)({},c),{},(t={},Object(te.a)(t,a.name,a.value),Object(te.a)(t,a.lastname,a.value),t)))};return[c,i,o]},ce=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.ui})).loading,a=ne({email:"",password:""}),n=Object(u.a)(a,2),c=n[0],r=n[1],o=c.email,i=c.password;return Object(T.jsx)("div",{children:Object(T.jsx)(ee,{email:o,password:i,handleInputChange:r,handleLogin:function(t){t.preventDefault(),e(C(o,i))},handleGoogle:function(){e(L())},loading:t,handleFacebook:function(){e((function(e){j.a.auth().signInWithPopup(y).then((function(t){var a=t.user;e(S(a.uid,a.displayName,a.email,a.photoURL))})).catch((function(e){k.a.fire({position:"center",icon:"error",title:"".concat(e.message),showConfirmButton:!1,timer:1500})}))}))}})})},re=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(441),o=Object(u.a)(r,2),i=o[0],d=o[1],b=Object(n.useState)(null),j=Object(u.a)(b,2),m=j[0],p=j[1],h=Object(P.c)((function(e){return e.movie.npopular})),f=Object(n.useRef)(new IntersectionObserver((function(e){e[0].isIntersecting&&O.current()}),{threshold:1})),v=function(){d(i-1)},O=Object(n.useRef)(v);Object(n.useEffect)((function(){O.current=v}),[v]),Object(n.useEffect)((function(){var e=m,t=f.current;return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[m]),Object(n.useEffect)((function(){M.a.get("https://api.themoviedb.org/3/movie/top_rated?api_key=ed4ef444cf09035de37c391527885e55&language=es&page=".concat(i)).then(function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,g(J([].concat(Object(R.a)(h),Object(R.a)(a.results))));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}),[i]);var g=Object(P.b)(),x=Object(n.useState)(""),w=Object(u.a)(x,2),y=w[0],N=w[1],E=Object(P.c)((function(e){return e.trailer.trailer}));console.log(E);var I=Object(P.c)((function(e){return e.auth.name}));return Object(T.jsx)("div",{children:a?Object(T.jsx)("div",{className:"row",children:Object(T.jsx)("div",{className:"col-12 text-center",children:Object(T.jsx)("div",{class:"spinner-border text-warning",role:"status"})})}):Object(T.jsx)(z,{list:h,targetId:y,isLoading:a,handleClic:function(e){console.log(e.target.id);var t=h.find((function(t){return t.id==e.target.id}));N(t),M.a.get("https://api.themoviedb.org/3/movie/".concat(e.target.id,"/videos?api_key=ed4ef444cf09035de37c391527885e55&language=en")).then(function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,g(X(a));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},keyVid:E,setElement:p,handleClicLater:function(){var e=[{id:y.id,url:"https://image.tmdb.org/t/p/w185".concat(y.poster_path),title:y.title,raiting:y.vote_average,trailer:"https://api.themoviedb.org/3/movie/".concat(y,"/videos?api_key=ed4ef444cf09035de37c391527885e55&language=en")}];g(K(e,I))}})})},oe=function(e){var t=e.handleLogout,a=e.userNameFromData,n=e.userPhoto;return Object(T.jsxs)("div",{children:[Object(T.jsxs)("h1",{children:["Hola soy tu perfil bienvenido ",a]}),Object(T.jsx)("div",{class:"text-center",children:Object(T.jsx)("img",{src:n,class:"rounded",alt:"poto-perfil"})}),Object(T.jsx)(d.b,{to:"/login",children:Object(T.jsx)("div",{className:"w-100 btn btn-lg  btn-outline-danger mt-3",onClick:t,children:"Cerrar sesion"})})]})},ie=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.auth.name})),a=Object(P.c)((function(e){return e.auth.photoURL}));return Object(T.jsx)("div",{children:Object(T.jsx)(oe,{handleLogout:function(){e(_())},userNameFromData:t,userPhoto:a})})},se=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(u.a)(r,2),i=o[0],d=o[1],b=Object(n.useState)(null),j=Object(u.a)(b,2),m=j[0],p=j[1],h=Object(P.c)((function(e){return e.movie.popular})),f=Object(n.useRef)(new IntersectionObserver((function(e){e[0].isIntersecting&&O.current()}),{threshold:1})),v=function(){d(i+1)},O=Object(n.useRef)(v);Object(n.useEffect)((function(){O.current=v}),[v]),Object(n.useEffect)((function(){var e=m,t=f.current;return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[m]),Object(n.useEffect)((function(){M.a.get("https://api.themoviedb.org/3/movie/top_rated?api_key=ed4ef444cf09035de37c391527885e55&language=es&page=".concat(i)).then(function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,g(Z([].concat(Object(R.a)(h),Object(R.a)(a.results))));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}),[i]);var g=Object(P.b)(),x=Object(n.useState)(""),w=Object(u.a)(x,2),y=w[0],N=w[1],E=Object(P.c)((function(e){return e.trailer.trailer}));console.log(E);var I=Object(P.c)((function(e){return e.auth.name}));return Object(T.jsx)("div",{children:a?Object(T.jsx)("div",{className:"row",children:Object(T.jsx)("div",{className:"col-12 text-center",children:Object(T.jsx)("div",{class:"spinner-border text-warning",role:"status"})})}):Object(T.jsx)(z,{list:h,targetId:y,isLoading:a,handleClic:function(e){console.log(e.target.id);var t=h.find((function(t){return t.id==e.target.id}));N(t),M.a.get("https://api.themoviedb.org/3/movie/".concat(e.target.id,"/videos?api_key=ed4ef444cf09035de37c391527885e55&language=en")).then(function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,g(X(a));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},keyVid:E,setElement:p,handleClicLater:function(){var e=[{id:y.id,url:"https://image.tmdb.org/t/p/w185".concat(y.poster_path),title:y.title,raiting:y.vote_average,trailer:"https://api.themoviedb.org/3/movie/".concat(y,"/videos?api_key=ed4ef444cf09035de37c391527885e55&language=en")}];g(K(e,I))}})})},le=D.a.main(O||(O=Object(A.a)(["\n  max-width: 500px;\n  margin: 0 auto;\n"]))),ue=function(e){var t=e.handleSubmit,a=e.name,n=e.email,c=e.password,r=e.password2,o=e.handleInputChange,i=e.handleGoogle;return Object(T.jsx)(le,{className:"form-signin d-flex justify-content-center",children:Object(T.jsxs)("form",{className:"text-center",onSubmit:t,children:[Object(T.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Registro de usuario"}),Object(T.jsxs)("div",{className:"form-floating",children:[Object(T.jsx)("input",{type:"text",className:"form-control mb-2",id:"floatingInput",placeholder:"Nombre y Apellido",autoComplete:"off",name:"name",value:a,onChange:o}),Object(T.jsx)("label",{htmlFor:"floatingInput",children:"Nombre completo"})]}),Object(T.jsxs)("div",{className:"form-floating",children:[Object(T.jsx)("input",{type:"email",className:"form-control mb-2",id:"floatingInput",placeholder:"name@example.com",name:"email",autoComplete:"off",value:n,onChange:o}),Object(T.jsx)("label",{htmlFor:"floatingInput",children:"Correo electronico"})]}),Object(T.jsxs)("div",{className:"form-floating",children:[Object(T.jsx)("input",{type:"password",className:"form-control mb-2",id:"floatingPassword",placeholder:"Contrase\xf1a",name:"password",autoComplete:"off",value:c,onChange:o}),Object(T.jsx)("label",{htmlFor:"floatingPassword",children:"Contrase\xf1a"})]}),Object(T.jsxs)("div",{className:"form-floating",children:[Object(T.jsx)("input",{type:"password",className:"form-control",id:"floatingPassword",placeholder:"Verificar contrase\xf1a",name:"password2",autoComplete:"off",value:r,onChange:o}),Object(T.jsx)("label",{htmlFor:"floatingPassword",children:"Verifica la Contrase\xf1a"})]}),Object(T.jsxs)(d.b,{to:"/perfil",children:[" ",Object(T.jsx)("button",{className:"w-100 btn btn-lg btn-warning mt-3",type:"submit",children:"Registrarse"})]}),Object(T.jsxs)("div",{className:"w-100 btn btn-lg  btn-outline-warning mt-3",onClick:i,children:[Object(T.jsx)(F.a,{icon:Q.b})," Registrarse con google"]}),Object(T.jsx)("div",{className:"checkbox mt-3 mb-3",children:Object(T.jsx)(d.b,{to:"/login",children:"Ya tengo una cuenta"})})]})})},de=a(83),be=a.n(de),je=function(){var e=Object(P.b)(),t=ne({name:"",email:"",password:"",password2:""}),a=Object(u.a)(t,2),n=a[0],c=a[1],r=n.name,o=n.email,i=n.password,d=n.password2,b=function(e){k.a.fire({position:"center",icon:"error",title:e,showConfirmButton:!1,timer:1500})},m=function(){return 0===r.trim().length?(e(E("nombre requerido")),b("nombre requerido"),!1):be.a.isEmail(o)?i!==d||i<5?(e(E("La contrase\xf1a es incorecta")),b("Contrase\xf1a incorrecta, asegurese que sea de minimo 5 caracteres"),!1):(e({type:N.uiRemoveError}),!0):(e(E("Emial requerido")),b("email requerido"),!1)};return Object(T.jsx)("div",{children:Object(T.jsx)(ue,{handleSubmit:function(t){t.preventDefault(),console.log("Enviado"),m()&&e(function(e,t,a){return function(n){j.a.auth().createUserWithEmailAndPassword(e,t).then(function(){var e=Object(l.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.user,e.next=3,c.updateProfile({displayName:a});case 3:n(S(c.uid,c.displayName,c.email,c.photoURL));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){k.a.fire({position:"center",icon:"error",title:"".concat(e.message),showConfirmButton:!1,timer:1500})}))}}(o,i,r))},name:r,email:o,password:i,password2:d,handleInputChange:c,handleGoogle:function(){e(L())}})})},me=D.a.img(g||(g=Object(A.a)(["\nwidth: 2.2em;\nborder-radius: 7px;\n"]))),pe=function(e){var t=e.isLoggedIn,a=Object(P.c)((function(e){return e.auth.photoURL}));return Object(T.jsx)("div",{className:"",children:Object(T.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",style:{hover:"yellow"},children:Object(T.jsxs)("div",{className:"container-fluid",children:[Object(T.jsx)(d.b,{className:"navbar-brand",to:"/movies",children:Object(T.jsx)("img",{src:"https://i.imgur.com/F2ZlOa6.png",alt:"",width:"120",height:"60"})}),Object(T.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(T.jsx)("span",{className:"navbar-toggler-icon"})}),Object(T.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(T.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(T.jsx)("li",{className:"nav-item",children:Object(T.jsx)(d.b,{className:"nav-link active","aria-current":"page",to:"/movies",children:"Peliculas"})}),Object(T.jsx)("li",{className:"nav-item",children:Object(T.jsx)(d.b,{className:"nav-link active",to:"/top-movies",children:"Mejores calificadas"})}),Object(T.jsx)("li",{className:"nav-item dropdown"}),Object(T.jsx)("li",{className:"nav-item",children:Object(T.jsx)(d.b,{className:"nav-link active",to:"/less-movies",children:"Menos calificadas"})}),t?Object(T.jsx)("li",{className:"nav-item active",children:Object(T.jsx)(d.b,{className:"nav-link active",to:"/profile",tabIndex:"-1","aria-disabled":"true",children:Object(T.jsx)(me,{src:a,class:"rounded",alt:"poto-perfil",sizes:"10px"})})}):Object(T.jsx)("li",{className:"nav-item active",children:Object(T.jsx)(d.b,{className:"nav-link active",to:"/login",tabIndex:"-1","aria-disabled":"true",children:Object(T.jsx)(F.a,{icon:U.b,className:"fs-4"})})})," "]}),Object(T.jsxs)("form",{className:"d-flex",children:[Object(T.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Buscar","aria-label":"Search"}),Object(T.jsx)(d.b,{to:"/search",children:Object(T.jsx)("button",{className:"btn btn-warning",type:"submit",children:"Buscar"})})]})]})]})})})},he=a(46),fe=a(6),ve=a.n(fe),Oe=function(e){var t=e.isAuthenticated,a=e.component,n=Object(he.a)(e,["isAuthenticated","component"]);return Object(T.jsx)(b.b,Object(ae.a)(Object(ae.a)({},n),{},{component:function(e){return t?Object(T.jsx)(a,Object(ae.a)({},e)):Object(T.jsx)(b.a,{to:"/login"})}}))};Oe.prototype={isAuthenticated:ve.a.bool.isRequired,component:ve.a.func.isRequired};var ge=Oe,xe=function(e){var t=e.isAuthenticated,a=e.component,n=Object(he.a)(e,["isAuthenticated","component"]);return Object(T.jsx)(b.b,Object(ae.a)(Object(ae.a)({},n),{},{component:function(e){return t?Object(T.jsx)(b.a,{to:"/"}):Object(T.jsx)(a,Object(ae.a)({},e))}}))};xe.prototype={isAuthenticated:ve.a.bool.isRequired,component:ve.a.func.isRequired};var we=xe,ye=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(u.a)(r,2),i=o[0],d=o[1],b=Object(n.useState)(null),j=Object(u.a)(b,2),m=j[0],p=j[1],h=Object(P.c)((function(e){return e.movie.search})),f=Object(n.useRef)(new IntersectionObserver((function(e){e[0].isIntersecting&&O.current()}),{threshold:1})),v=function(){d(i+1)},O=Object(n.useRef)(v);Object(n.useEffect)((function(){O.current=v}),[v]),Object(n.useEffect)((function(){var e=m,t=f.current;return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[m]);var g=Object(n.useState)("oso"),x=Object(u.a)(g,2),w=x[0];x[1];Object(n.useEffect)((function(){M.a.get("https://api.themoviedb.org/3/search/movie?api_key=ed4ef444cf09035de37c391527885e55&language=en&query=".concat(w,"&page=").concat(i,"&include_adult=false")).then(function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,y((n=[].concat(Object(R.a)(h),Object(R.a)(a.results)),{type:N.movieSearch,payload:{search:n}}));case 3:c(!1);case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}),[i]);var y=Object(P.b)(),E=Object(n.useState)(""),I=Object(u.a)(E,2),k=I[0],S=I[1],C=Object(P.c)((function(e){return e.trailer.trailer}));console.log(C);var L=Object(P.c)((function(e){return e.auth.name}));return Object(T.jsx)("div",{children:a?Object(T.jsx)("div",{className:"row",children:Object(T.jsx)("div",{className:"col-12 text-center",children:Object(T.jsx)("div",{class:"spinner-border text-warning",role:"status"})})}):Object(T.jsx)(z,{list:h,targetId:k,isLoading:a,handleClic:function(e){console.log(e.target.id);var t=h.find((function(t){return t.id==e.target.id}));S(t),M.a.get("https://api.themoviedb.org/3/movie/".concat(e.target.id,"/videos?api_key=ed4ef444cf09035de37c391527885e55&language=en")).then(function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,y(X(a));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},keyVid:C,setElement:p,handleClicLater:function(){var e=[{id:k.id,url:"https://image.tmdb.org/t/p/w185".concat(k.poster_path),title:k.title,raiting:k.vote_average,trailer:"https://api.themoviedb.org/3/movie/".concat(k,"/videos?api_key=ed4ef444cf09035de37c391527885e55&language=en")}];y(K(e,L))}})})},Ne=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(u.a)(r,2),i=o[0],m=o[1],p=Object(P.b)();return Object(n.useEffect)((function(){j.a.auth().onAuthStateChanged(function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t?void 0:t.uid)?(p(S(t.uid,t.displayName,t.email,t.photoURL)),m(!0)):m(!1),c(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[p,c]),a?Object(T.jsx)("div",{className:"row  ",children:Object(T.jsx)("div",{className:"col-12 text-center  ",children:Object(T.jsx)("div",{class:"spinner-border text-warning justify-content-center",role:"status"})})}):Object(T.jsxs)(d.a,{children:[Object(T.jsx)(pe,{isLoggedIn:i}),Object(T.jsxs)(b.d,{children:[Object(T.jsx)(b.b,{exact:!0,path:"/",component:Y}),Object(T.jsx)(b.b,{exact:!0,path:"/movies",component:Y}),Object(T.jsx)(b.b,{exact:!0,path:"/top-movies",component:se}),Object(T.jsx)(b.b,{exact:!0,path:"/less-movies",component:re}),Object(T.jsx)(b.b,{exact:!0,path:"/search",component:ye}),Object(T.jsx)(we,{exact:!0,path:"/login",component:ce,isAuthenticated:i}),Object(T.jsx)(we,{exact:!0,path:"/register",component:je,isAuthenticated:i}),Object(T.jsx)(ge,{exact:!0,path:"/profile",isAuthenticated:i,component:ie}),Object(T.jsx)(b.a,{to:"/movies"})]})]})},Ee=a(40),Ie=a(84),ke={uid:null,displayName:null,email:null,photoURL:"https://graph.facebook.com/4102183623157771/picture"},Se={loading:!1,msjError:null},Ce={hmovie:[],popular:[],npopular:[],later:[],search:[],valueSearch:""},Le={trailer:null},_e=Object(Ee.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.login:return{uid:t.payload.uid,name:t.payload.displayName,email:t.payload.email,photoURL:t.payload.photoURL};case N.logout:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.uiSetError:return Object(ae.a)(Object(ae.a)({},e),{},{msjError:t.plaload});case N.uiRemoveError:return Object(ae.a)(Object(ae.a)({},e),{},{msjError:null});case N.uiStarLogin:case N.uiFinishLogin:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0});case N.uiStopLogin:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.movieLoad:return Object(ae.a)(Object(ae.a)({},e),{},{hmovie:t.payload.movielist});case N.moviePopular:return Object(ae.a)(Object(ae.a)({},e),{},{popular:t.payload.moviePopular});case N.movieNotPopular:return Object(ae.a)(Object(ae.a)({},e),{},{npopular:t.payload.movieNotPopular});case N.movieLater:case N.movieDelete:return Object(ae.a)(Object(ae.a)({},e),{},{later:t.payload.later});case N.movieSearch:return Object(ae.a)(Object(ae.a)({},e),{},{search:t.payload.search});case N.movieValueSearch:return{valueSearch:t.payload.valueSearch};default:return e}},trailer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.movieTrailer:return Object(ae.a)(Object(ae.a)({},e),{},{trailer:t.payload});default:return e}}}),Pe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.c,Re=Object(Ee.d)(_e,Pe(Object(Ee.a)(Ie.a)));a(204);o.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(P.a,{store:Re,children:Object(T.jsx)(Ne,{})})}),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.cf1c6dab.chunk.js.map